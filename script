-- ‚úÖ –ü–æ–ª–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è Roblox Mobile UI —Å Visual/Game/Setting –≤–∫–ª–∞–¥–∫–∞–º–∏
-- –ê–≤—Ç–æ—Ä: mellontyX1 (—Å –ø–æ–¥–ø–∏—Å—è–º–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏ –∞–Ω–∏–º–∞—Ü–∏–µ–π)

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local mouse = player:GetMouse()
local uis = game:GetService("UserInputService")
local rs = game:GetService("RunService")
local http = game:GetService("HttpService")

local ScreenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
ScreenGui.Name = "mellontyX1_GUI"

-- üåü –ò–∫–æ–Ω–∫–∞ –º–µ–Ω—é
local Icon = Instance.new("ImageButton", ScreenGui)
Icon.Size = UDim2.new(0, 60, 0, 60)
Icon.Position = UDim2.new(0, 20, 0.5, -30)
Icon.Image = "rbxassetid://15276188648" -- –ö—Ä–∞—Å–∏–≤–∞—è –∏–∫–æ–Ω–∫–∞
Icon.BackgroundTransparency = 1
Icon.Name = "OpenMenu"

-- üì¶ –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 340, 0, 340)
Frame.Position = UDim2.new(0.5, -170, 0.5, -170)
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Frame.Visible = false
Frame.Active = true
Frame.Draggable = true
Frame.Name = "MainFrame"

-- –ó–∞–≥–æ–ª–æ–≤–æ–∫
local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Title.Text = "üí† by mellontyX1"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 18
Title.Font = Enum.Font.GothamBold

-- –í–∫–ª–∞–¥–∫–∏
local TabsFrame = Instance.new("Frame", Frame)
TabsFrame.Size = UDim2.new(1, 0, 0, 35)
TabsFrame.Position = UDim2.new(0, 0, 0, 30)
TabsFrame.BackgroundTransparency = 1

local TabContent = Instance.new("Frame", Frame)
TabContent.Position = UDim2.new(0, 0, 0, 65)
TabContent.Size = UDim2.new(1, 0, 1, -65)
TabContent.BackgroundTransparency = 1

local tabs = {"Visual", "Game", "Setting"}
local tabFrames = {}

for i, tabName in ipairs(tabs) do
	local Button = Instance.new("TextButton", TabsFrame)
	Button.Size = UDim2.new(0, 110, 0, 30)
	Button.Position = UDim2.new(0, (i - 1) * 115, 0, 0)
	Button.Text = tabName
	Button.Font = Enum.Font.GothamBold
	Button.TextColor3 = Color3.fromRGB(255, 255, 255)
	Button.BackgroundColor3 = Color3.fromRGB(45, 45, 45)

	local Tab = Instance.new("Frame", TabContent)
	Tab.Size = UDim2.new(1, 0, 1, 0)
	Tab.BackgroundTransparency = 1
	Tab.Visible = i == 1
	tabFrames[tabName] = Tab

	Button.MouseButton1Click:Connect(function()
		for _, f in pairs(tabFrames) do f.Visible = false end
		Tab.Visible = true
	end)
end

-- üåê ESP Toggle
local espToggles = {
	Enabled = false,
	Box = false,
	Skeleton = false,
	Name = false
}

local function createToggle(tab, label, key, y)
	local toggle = Instance.new("TextButton", tab)
	toggle.Size = UDim2.new(1, -20, 0, 30)
	toggle.Position = UDim2.new(0, 10, 0, y)
	toggle.Text = label .. ": OFF"
	toggle.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
	toggle.Font = Enum.Font.Gotham

	toggle.MouseButton1Click:Connect(function()
		espToggles[key] = not espToggles[key]
		toggle.Text = label .. ": " .. (espToggles[key] and "ON" or "OFF")
	end)
end

createToggle(tabFrames.Visual, "ESP Enabled", "Enabled", 0)
createToggle(tabFrames.Visual, "ESP Box", "Box", 35)
createToggle(tabFrames.Visual, "ESP Skeleton", "Skeleton", 70)
createToggle(tabFrames.Visual, "ESP Name", "Name", 105)

-- üìç Game Tab —Ñ—É–Ω–∫—Ü–∏–∏
local homePos

local function button(tab, text, y, func)
	local b = Instance.new("TextButton", tab)
	b.Size = UDim2.new(1, -20, 0, 30)
	b.Position = UDim2.new(0, 10, 0, y)
	b.Text = text
	b.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
	b.TextColor3 = Color3.fromRGB(255, 255, 255)
	b.Font = Enum.Font.Gotham
	b.MouseButton1Click:Connect(func)
end

button(tabFrames.Game, "Set Home", 0, function()
	homePos = player.Character and player.Character:FindFirstChild("HumanoidRootPart").Position
end)

button(tabFrames.Game, "TP Home (Flash)", 35, function()
	if homePos then
		local hrp = player.Character:FindFirstChild("HumanoidRootPart")
		local old = hrp.Position
		hrP.CFrame = CFrame.new(homePos)
		wait(0.05)
		hrP.CFrame = CFrame.new(old)
	end
end)

-- Noclip, Inf Jump, Fly
local noclip = false
local infjump = false
local fly = false
local flyconn

button(tabFrames.Game, "Noclip", 70, function()
	noclip = not noclip
	rs.Stepped:Connect(function()
		if noclip and player.Character then
			for _, p in pairs(player.Character:GetDescendants()) do
				if p:IsA("BasePart") then p.CanCollide = false end
			end
		end
	end)
end)

button(tabFrames.Game, "Inf Jump", 105, function()
	infjump = not infjump
	uis.JumpRequest:Connect(function()
		if infjump then
			player.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping")
		end
	end)
end)

button(tabFrames.Game, "Fly", 140, function()
	fly = not fly
	local hrp = player.Character:WaitForChild("HumanoidRootPart")
	if fly then
		local bg = Instance.new("BodyGyro", hrp)
		local bv = Instance.new("BodyVelocity", hrp)
		bg.P = 9e4
		bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
		bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
		flyconn = rs.RenderStepped:Connect(function()
			bv.velocity = workspace.CurrentCamera.CFrame.LookVector * 50
			bg.CFrame = workspace.CurrentCamera.CFrame
		end)
	else
		if flyconn then flyconn:Disconnect() end
		for _, v in pairs(hrp:GetChildren()) do if v:IsA("BodyGyro") or v:IsA("BodyVelocity") then v:Destroy() end end
	end
end)

-- ‚öôÔ∏è Settings (save/load)
button(tabFrames.Setting, "üíæ Save Config", 0, function()
	if writefile then
		writefile("mellontyX1_config.json", http:JSONEncode(espToggles))
	end
end)

button(tabFrames.Setting, "üìÇ Load Config", 35, function()
	if isfile and readfile and isfile("mellontyX1_config.json") then
		local data = http:JSONDecode(readfile("mellontyX1_config.json"))
		for k, v in pairs(data) do espToggles[k] = v end
	end
end)

-- üîò –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é
Icon.MouseButton1Click:Connect(function()
	Frame.Visible = not Frame.Visible
end)

-- üîß –ö–æ–Ω–µ—Ü —Å–∫—Ä–∏–ø—Ç–∞
